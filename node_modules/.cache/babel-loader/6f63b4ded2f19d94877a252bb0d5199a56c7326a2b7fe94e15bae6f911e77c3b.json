{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport SweetBackground from \"./components/SweetBackground.vue\";\nimport FlapText from \"./helpers/FlapText\";\nimport AppBase from \"./layout/AppBase.vue\";\nexport default {\n  name: \"App\",\n  components: {\n    AppBase,\n    SweetBackground\n  },\n  mounted() {\n    document.onreadystatechange = () => {\n      if (document.readyState == \"complete\") {\n        const characters = \"\\\"'“”‘’¹²³!#$&%()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~½¼¡«»×▓▒░\".split(\"\");\n\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const shuffledCharacters = characters.sort((a, b) => 0.5 - Math.random());\n        (function () {\n          const flapTextElements = [];\n          document.querySelectorAll(\".flap\").forEach(flapElement => {\n            const lines = flapElement.innerText.trimEnd().split(\"\\n\").map(line => line.trimEnd().replaceAll(\"\\t\", \"\"));\n            flapElement.innerHTML = \"\";\n            lines.forEach(line => {\n              const span = document.createElement(\"span\");\n              span.dataset.paused = \"true\";\n              flapElement.appendChild(span);\n              new IntersectionObserver(entries => {\n                if (entries[0].isIntersecting === true) {\n                  span.dataset.paused = \"false\";\n                }\n              }, {\n                threshold: [0]\n              }).observe(span);\n              const flapText = new FlapText(span, shuffledCharacters);\n              flapText.setInitialPositions(line);\n              flapText.shufflePositions();\n              flapText.render();\n              span.addEventListener(\"mouseenter\", () => {\n                flapText.shufflePositions();\n              });\n              flapTextElements.push(flapText);\n            });\n          });\n          let frameCount = 0;\n          requestAnimationFrame(function animate() {\n            requestAnimationFrame(animate);\n            if (frameCount++ % 2 === 0) {\n              for (const flapText of flapTextElements) {\n                flapText.flap();\n                flapText.render();\n              }\n            }\n          });\n        })();\n      }\n    };\n  }\n};","map":{"version":3,"names":["SweetBackground","FlapText","AppBase","name","components","mounted","document","onreadystatechange","readyState","characters","split","shuffledCharacters","sort","a","b","Math","random","flapTextElements","querySelectorAll","forEach","flapElement","lines","innerText","trimEnd","map","line","replaceAll","innerHTML","span","createElement","dataset","paused","appendChild","IntersectionObserver","entries","isIntersecting","threshold","observe","flapText","setInitialPositions","shufflePositions","render","addEventListener","push","frameCount","requestAnimationFrame","animate","flap"],"sources":["/Users/maximeconceicao/personal_repos/sweet-portfolio/src/App.vue"],"sourcesContent":["<template>\n  <sweet-background />\n  <app-base />\n</template>\n\n<script>\nimport SweetBackground from \"./components/SweetBackground.vue\";\nimport FlapText from \"./helpers/FlapText\";\nimport AppBase from \"./layout/AppBase.vue\";\nexport default {\n  name: \"App\",\n  components: { AppBase, SweetBackground },\n  mounted() {\n    document.onreadystatechange = () => {\n      if (document.readyState == \"complete\") {\n        const characters =\n          \"\\\"'“”‘’¹²³!#$&%()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~½¼¡«»×▓▒░\".split(\n            \"\"\n          );\n\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const shuffledCharacters = characters.sort(\n          (a, b) => 0.5 - Math.random()\n        );\n\n        (function () {\n          const flapTextElements = [];\n\n          document.querySelectorAll(\".flap\").forEach((flapElement) => {\n            const lines = flapElement.innerText\n              .trimEnd()\n              .split(\"\\n\")\n              .map((line) => line.trimEnd().replaceAll(\"\\t\", \"\"));\n            flapElement.innerHTML = \"\";\n\n            lines.forEach((line) => {\n              const span = document.createElement(\"span\");\n              span.dataset.paused = \"true\";\n              flapElement.appendChild(span);\n\n              new IntersectionObserver(\n                (entries) => {\n                  if (entries[0].isIntersecting === true) {\n                    span.dataset.paused = \"false\";\n                  }\n                },\n                { threshold: [0] }\n              ).observe(span);\n\n              const flapText = new FlapText(span, shuffledCharacters);\n              flapText.setInitialPositions(line);\n              flapText.shufflePositions();\n\n              flapText.render();\n\n              span.addEventListener(\"mouseenter\", () => {\n                flapText.shufflePositions();\n              });\n\n              flapTextElements.push(flapText);\n            });\n          });\n\n          let frameCount = 0;\n          requestAnimationFrame(function animate() {\n            requestAnimationFrame(animate);\n            if (frameCount++ % 2 === 0) {\n              for (const flapText of flapTextElements) {\n                flapText.flap();\n                flapText.render();\n              }\n            }\n          });\n        })();\n      }\n    };\n  },\n};\n</script>\n\n<style lang=\"scss\">\n@import \"./styles/style.scss\";\n</style>\n"],"mappings":";AAMA,OAAOA,eAAc,MAAO,kCAAkC;AAC9D,OAAOC,QAAO,MAAO,oBAAoB;AACzC,OAAOC,OAAM,MAAO,sBAAsB;AAC1C,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IAAEF,OAAO;IAAEF;EAAgB,CAAC;EACxCK,OAAOA,CAAA,EAAG;IACRC,QAAQ,CAACC,kBAAiB,GAAI,MAAM;MAClC,IAAID,QAAQ,CAACE,UAAS,IAAK,UAAU,EAAE;QACrC,MAAMC,UAAS,GACb,kHAAkH,CAACC,KAAK,CACtH,EACF,CAAC;;QAEH;QACA,MAAMC,kBAAiB,GAAIF,UAAU,CAACG,IAAI,CACxC,CAACC,CAAC,EAAEC,CAAC,KAAK,GAAE,GAAIC,IAAI,CAACC,MAAM,CAAC,CAC9B,CAAC;QAED,CAAC,YAAY;UACX,MAAMC,gBAAe,GAAI,EAAE;UAE3BX,QAAQ,CAACY,gBAAgB,CAAC,OAAO,CAAC,CAACC,OAAO,CAAEC,WAAW,IAAK;YAC1D,MAAMC,KAAI,GAAID,WAAW,CAACE,SAAQ,CAC/BC,OAAO,CAAC,EACRb,KAAK,CAAC,IAAI,EACVc,GAAG,CAAEC,IAAI,IAAKA,IAAI,CAACF,OAAO,CAAC,CAAC,CAACG,UAAU,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;YACrDN,WAAW,CAACO,SAAQ,GAAI,EAAE;YAE1BN,KAAK,CAACF,OAAO,CAAEM,IAAI,IAAK;cACtB,MAAMG,IAAG,GAAItB,QAAQ,CAACuB,aAAa,CAAC,MAAM,CAAC;cAC3CD,IAAI,CAACE,OAAO,CAACC,MAAK,GAAI,MAAM;cAC5BX,WAAW,CAACY,WAAW,CAACJ,IAAI,CAAC;cAE7B,IAAIK,oBAAoB,CACrBC,OAAO,IAAK;gBACX,IAAIA,OAAO,CAAC,CAAC,CAAC,CAACC,cAAa,KAAM,IAAI,EAAE;kBACtCP,IAAI,CAACE,OAAO,CAACC,MAAK,GAAI,OAAO;gBAC/B;cACF,CAAC,EACD;gBAAEK,SAAS,EAAE,CAAC,CAAC;cAAE,CACnB,CAAC,CAACC,OAAO,CAACT,IAAI,CAAC;cAEf,MAAMU,QAAO,GAAI,IAAIrC,QAAQ,CAAC2B,IAAI,EAAEjB,kBAAkB,CAAC;cACvD2B,QAAQ,CAACC,mBAAmB,CAACd,IAAI,CAAC;cAClCa,QAAQ,CAACE,gBAAgB,CAAC,CAAC;cAE3BF,QAAQ,CAACG,MAAM,CAAC,CAAC;cAEjBb,IAAI,CAACc,gBAAgB,CAAC,YAAY,EAAE,MAAM;gBACxCJ,QAAQ,CAACE,gBAAgB,CAAC,CAAC;cAC7B,CAAC,CAAC;cAEFvB,gBAAgB,CAAC0B,IAAI,CAACL,QAAQ,CAAC;YACjC,CAAC,CAAC;UACJ,CAAC,CAAC;UAEF,IAAIM,UAAS,GAAI,CAAC;UAClBC,qBAAqB,CAAC,SAASC,OAAOA,CAAA,EAAG;YACvCD,qBAAqB,CAACC,OAAO,CAAC;YAC9B,IAAIF,UAAU,EAAC,GAAI,MAAM,CAAC,EAAE;cAC1B,KAAK,MAAMN,QAAO,IAAKrB,gBAAgB,EAAE;gBACvCqB,QAAQ,CAACS,IAAI,CAAC,CAAC;gBACfT,QAAQ,CAACG,MAAM,CAAC,CAAC;cACnB;YACF;UACF,CAAC,CAAC;QACJ,CAAC,EAAE,CAAC;MACN;IACF,CAAC;EACH;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}