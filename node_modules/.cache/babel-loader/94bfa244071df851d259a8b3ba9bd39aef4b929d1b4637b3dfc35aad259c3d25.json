{"ast":null,"code":"import { ref } from \"vue\";\nexport default {\n  name: \"SweetGameTimer\",\n  props: [\"startSeconds\"],\n  data() {\n    return {\n      timerEnabled: true,\n      timerCount: this.startSeconds\n    };\n  },\n  watch: {\n    timerEnabled(value) {\n      if (value) {\n        setTimeout(() => {\n          this.timerCount--;\n        }, 1000);\n      }\n    },\n    timerCount: {\n      handler(value) {\n        if (value > 0 && this.timerEnabled) {\n          setTimeout(() => {\n            this.timerCount--;\n          }, 1000);\n        } else if (value <= 0) {\n          this.handleTimerFinished();\n        }\n      },\n      immediate: true // This ensures the watcher is triggered upon creation\n    }\n  },\n\n  methods: {\n    play() {\n      this.timerEnabled = true;\n    },\n    pause() {\n      this.timerEnabled = false;\n    },\n    handleTimerFinished() {\n      this.$emit(\"timerFinished\");\n    },\n    resetTimer() {\n      this.countdown = this.initialCountdown;\n    }\n  }\n};","map":{"version":3,"names":["ref","name","props","data","timerEnabled","timerCount","startSeconds","watch","value","setTimeout","handler","handleTimerFinished","immediate","methods","play","pause","$emit","resetTimer","countdown","initialCountdown"],"sources":["/Users/maximeconceicao/personal_repos/sweet-portfolio/src/components/SweetGame/SweetGameTimer.vue"],"sourcesContent":["<template>\n  <div class=\"game-timer\">\n    <p>{{ timerCount }}</p>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\n\nexport default {\n  name: \"SweetGameTimer\",\n  props: [\"startSeconds\"],\n  data() {\n    return {\n      timerEnabled: true,\n      timerCount: this.startSeconds,\n    };\n  },\n\n  watch: {\n    timerEnabled(value) {\n      if (value) {\n        setTimeout(() => {\n          this.timerCount--;\n        }, 1000);\n      }\n    },\n\n    timerCount: {\n      handler(value) {\n        if (value > 0 && this.timerEnabled) {\n          setTimeout(() => {\n            this.timerCount--;\n          }, 1000);\n        } else if (value <= 0) {\n          this.handleTimerFinished();\n        }\n      },\n      immediate: true, // This ensures the watcher is triggered upon creation\n    },\n  },\n\n  methods: {\n    play() {\n      this.timerEnabled = true;\n    },\n\n    pause() {\n      this.timerEnabled = false;\n    },\n\n    handleTimerFinished() {\n      this.$emit(\"timerFinished\");\n    },\n    resetTimer() {\n      this.countdown = this.initialCountdown;\n    },\n  },\n};\n</script>\n"],"mappings":"AAOA,SAASA,GAAE,QAAS,KAAK;AAEzB,eAAe;EACbC,IAAI,EAAE,gBAAgB;EACtBC,KAAK,EAAE,CAAC,cAAc,CAAC;EACvBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,IAAI;MAClBC,UAAU,EAAE,IAAI,CAACC;IACnB,CAAC;EACH,CAAC;EAEDC,KAAK,EAAE;IACLH,YAAYA,CAACI,KAAK,EAAE;MAClB,IAAIA,KAAK,EAAE;QACTC,UAAU,CAAC,MAAM;UACf,IAAI,CAACJ,UAAU,EAAE;QACnB,CAAC,EAAE,IAAI,CAAC;MACV;IACF,CAAC;IAEDA,UAAU,EAAE;MACVK,OAAOA,CAACF,KAAK,EAAE;QACb,IAAIA,KAAI,GAAI,KAAK,IAAI,CAACJ,YAAY,EAAE;UAClCK,UAAU,CAAC,MAAM;YACf,IAAI,CAACJ,UAAU,EAAE;UACnB,CAAC,EAAE,IAAI,CAAC;QACV,OAAO,IAAIG,KAAI,IAAK,CAAC,EAAE;UACrB,IAAI,CAACG,mBAAmB,CAAC,CAAC;QAC5B;MACF,CAAC;MACDC,SAAS,EAAE,IAAI,CAAE;IACnB;EACF,CAAC;;EAEDC,OAAO,EAAE;IACPC,IAAIA,CAAA,EAAG;MACL,IAAI,CAACV,YAAW,GAAI,IAAI;IAC1B,CAAC;IAEDW,KAAKA,CAAA,EAAG;MACN,IAAI,CAACX,YAAW,GAAI,KAAK;IAC3B,CAAC;IAEDO,mBAAmBA,CAAA,EAAG;MACpB,IAAI,CAACK,KAAK,CAAC,eAAe,CAAC;IAC7B,CAAC;IACDC,UAAUA,CAAA,EAAG;MACX,IAAI,CAACC,SAAQ,GAAI,IAAI,CAACC,gBAAgB;IACxC;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}