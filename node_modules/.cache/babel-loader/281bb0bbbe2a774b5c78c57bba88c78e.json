{"ast":null,"code":"export default {\n  mounted() {\n    const characters = \"\\\"'“”‘’¹²³!#$&%()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~½¼¡«»×▓▒░│┤▀└┴┬├─┼┐┌└┘\".split(\"\");\n\n    (function () {\n      const flapTextElements = [];\n      let textIndex = 0;\n      document.querySelectorAll(\".flap\").forEach(flapElement => {\n        const lines = flapElement.innerText.trimEnd().split(\"\\n\").map(line => line.trimEnd().replaceAll(\"\\t\", \"\"));\n        flapElement.innerHTML = \"\";\n\n        if (flapElement.dataset.offset === \"0\") {\n          textIndex = 0;\n        }\n\n        lines.forEach(line => {\n          const span = function (parent, elementType, attributes) {\n            const element = document.createElement(elementType);\n\n            for (const attr in attributes) {\n              element[attr] = attributes[attr];\n            }\n\n            parent.appendChild(element);\n            return element;\n          }(flapElement, \"SPAN\", {\n            dataset: {\n              paused: \"true\"\n            }\n          });\n\n          new IntersectionObserver(entries => {\n            if (entries[0].isIntersecting === true) {\n              span.dataset.paused = \"false\";\n            }\n          }, {\n            threshold: [0]\n          }).observe(span);\n          const flapText = new FlapText(span, characters);\n          flapText.setInitialPositions(line);\n          flapText.render();\n          flapText.shiftRandomly(5 * textIndex++, 1);\n          span.addEventListener(\"mouseenter\", () => {\n            flapText.shufflePositions();\n          });\n          flapTextElements.push(flapText);\n        });\n      });\n      let frameCount = 0;\n      requestAnimationFrame(function animate() {\n        requestAnimationFrame(animate);\n\n        if (frameCount++ % 2 === 0) {\n          for (const flapText of flapTextElements) {\n            flapText.flap();\n            flapText.render();\n          }\n        }\n      });\n      document.querySelectorAll(\".flap\").forEach(flapElement => {\n        flapElement.classList.remove(\"hidden\");\n      });\n    })();\n  }\n\n};","map":{"version":3,"mappings":"AASA,eAAe;AACbA,SAAO,GAAG;AACR,UAAMC,UAAS,GACb,gIAAgIC,KAAhI,CACE,EADF,CADF;;AAKA,KAAC,YAAY;AACX,YAAMC,gBAAe,GAAI,EAAzB;AACA,UAAIC,SAAQ,GAAI,CAAhB;AAEAC,cAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCC,OAAnC,CAA4CC,WAAD,IAAiB;AAC1D,cAAMC,KAAI,GAAID,WAAW,CAACE,SAAZ,CACXC,OADW,GAEXT,KAFW,CAEL,IAFK,EAGXU,GAHW,CAGNC,IAAD,IAAUA,IAAI,CAACF,OAAL,GAAeG,UAAf,CAA0B,IAA1B,EAAgC,EAAhC,CAHH,CAAd;AAIAN,mBAAW,CAACO,SAAZ,GAAwB,EAAxB;;AACA,YAAIP,WAAW,CAACQ,OAAZ,CAAoBC,MAApB,KAA+B,GAAnC,EAAwC;AACtCb,mBAAQ,GAAI,CAAZ;AACF;;AACAK,aAAK,CAACF,OAAN,CAAeM,IAAD,IAAU;AACtB,gBAAMK,IAAG,GAAK,UAAUC,MAAV,EAAkBC,WAAlB,EAA+BC,UAA/B,EAA2C;AACvD,kBAAMC,OAAM,GAAIjB,QAAQ,CAACkB,aAAT,CAAuBH,WAAvB,CAAhB;;AACA,iBAAK,MAAMI,IAAX,IAAmBH,UAAnB,EAA+B;AAC7BC,qBAAO,CAACE,IAAD,CAAP,GAAgBH,UAAU,CAACG,IAAD,CAA1B;AACF;;AACAL,kBAAM,CAACM,WAAP,CAAmBH,OAAnB;AACA,mBAAOA,OAAP;AACD,WAPY,CAOVd,WAPU,EAOG,MAPH,EAOW;AAAEQ,mBAAO,EAAE;AAAEU,oBAAM,EAAE;AAAV;AAAX,WAPX,CAAb;;AAQA,cAAIC,oBAAJ,CACGC,OAAD,IAAa;AACX,gBAAIA,OAAO,CAAC,CAAD,CAAP,CAAWC,cAAX,KAA8B,IAAlC,EAAwC;AACtCX,kBAAI,CAACF,OAAL,CAAaU,MAAb,GAAsB,OAAtB;AACF;AACD,WALH,EAME;AAAEI,qBAAS,EAAE,CAAC,CAAD;AAAb,WANF,EAOEC,OAPF,CAOUb,IAPV;AASA,gBAAMc,QAAO,GAAI,IAAIC,QAAJ,CAAaf,IAAb,EAAmBjB,UAAnB,CAAjB;AACA+B,kBAAQ,CAACE,mBAAT,CAA6BrB,IAA7B;AACAmB,kBAAQ,CAACG,MAAT;AACAH,kBAAQ,CAACI,aAAT,CAAuB,IAAIhC,SAAS,EAApC,EAAwC,CAAxC;AAEAc,cAAI,CAACmB,gBAAL,CAAsB,YAAtB,EAAoC,MAAM;AACxCL,oBAAQ,CAACM,gBAAT;AACD,WAFD;AAIAnC,0BAAgB,CAACoC,IAAjB,CAAsBP,QAAtB;AACD,SA5BD;AA6BD,OAtCD;AAwCA,UAAIQ,UAAS,GAAI,CAAjB;AACAC,2BAAqB,CAAC,SAASC,OAAT,GAAmB;AACvCD,6BAAqB,CAACC,OAAD,CAArB;;AACA,YAAIF,UAAU,KAAK,CAAf,KAAqB,CAAzB,EAA4B;AAC1B,eAAK,MAAMR,QAAX,IAAuB7B,gBAAvB,EAAyC;AACvC6B,oBAAQ,CAACW,IAAT;AACAX,oBAAQ,CAACG,MAAT;AACF;AACF;AACD,OARoB,CAArB;AAUA9B,cAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCC,OAAnC,CAA4CC,WAAD,IAAiB;AAC1DA,mBAAW,CAACoC,SAAZ,CAAsBC,MAAtB,CAA6B,QAA7B;AACD,OAFD;AAGD,KA1DD;AA2DD;;AAlEY,CAAf","names":["mounted","characters","split","flapTextElements","textIndex","document","querySelectorAll","forEach","flapElement","lines","innerText","trimEnd","map","line","replaceAll","innerHTML","dataset","offset","span","parent","elementType","attributes","element","createElement","attr","appendChild","paused","IntersectionObserver","entries","isIntersecting","threshold","observe","flapText","FlapText","setInitialPositions","render","shiftRandomly","addEventListener","shufflePositions","push","frameCount","requestAnimationFrame","animate","flap","classList","remove"],"sourceRoot":"","sources":["/Users/maximeconceicao/personal_repos/sweet-portfolio/src/components/FlapText.vue"],"sourcesContent":["<template>\n  <!-- Vous pouvez ajouter le HTML associé ici si nécessaire -->\n  <p class=\"flap\">\n    <!-- Contenu de votre composant FlapText -->\n    Phrase test pour flap text !\n  </p>\n</template>\n\n<script>\nexport default {\n  mounted() {\n    const characters =\n      \"\\\"'“”‘’¹²³!#$&%()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~½¼¡«»×▓▒░│┤▀└┴┬├─┼┐┌└┘\".split(\n        \"\"\n      );\n\n    (function () {\n      const flapTextElements = [];\n      let textIndex = 0;\n\n      document.querySelectorAll(\".flap\").forEach((flapElement) => {\n        const lines = flapElement.innerText\n          .trimEnd()\n          .split(\"\\n\")\n          .map((line) => line.trimEnd().replaceAll(\"\\t\", \"\"));\n        flapElement.innerHTML = \"\";\n        if (flapElement.dataset.offset === \"0\") {\n          textIndex = 0;\n        }\n        lines.forEach((line) => {\n          const span = (function (parent, elementType, attributes) {\n            const element = document.createElement(elementType);\n            for (const attr in attributes) {\n              element[attr] = attributes[attr];\n            }\n            parent.appendChild(element);\n            return element;\n          })(flapElement, \"SPAN\", { dataset: { paused: \"true\" } });\n          new IntersectionObserver(\n            (entries) => {\n              if (entries[0].isIntersecting === true) {\n                span.dataset.paused = \"false\";\n              }\n            },\n            { threshold: [0] }\n          ).observe(span);\n\n          const flapText = new FlapText(span, characters);\n          flapText.setInitialPositions(line);\n          flapText.render();\n          flapText.shiftRandomly(5 * textIndex++, 1);\n\n          span.addEventListener(\"mouseenter\", () => {\n            flapText.shufflePositions();\n          });\n\n          flapTextElements.push(flapText);\n        });\n      });\n\n      let frameCount = 0;\n      requestAnimationFrame(function animate() {\n        requestAnimationFrame(animate);\n        if (frameCount++ % 2 === 0) {\n          for (const flapText of flapTextElements) {\n            flapText.flap();\n            flapText.render();\n          }\n        }\n      });\n\n      document.querySelectorAll(\".flap\").forEach((flapElement) => {\n        flapElement.classList.remove(\"hidden\");\n      });\n    })();\n  },\n};\n</script>\n\n<style scoped>\n/* Styles spécifiques au composant ici, ou utilisez des classes externes */\n</style>\n"]},"metadata":{},"sourceType":"module"}