{"ast":null,"code":"import { ref } from \"vue\";\nexport default {\n  name: \"SweetGameTimer\",\n  props: [\"startSeconds\"],\n  setup(props) {\n    const secondsLeft = ref(props.startSeconds);\n    let animationFrameId;\n    const updateTimer = () => {\n      const now = Date.now();\n      const deltaTime = Math.max(0, props.startSeconds * 1000 - (now - startTime));\n      secondsLeft.value = Math.floor(deltaTime / 1000);\n      if (deltaTime > 0) {\n        animationFrameId = requestAnimationFrame(updateTimer);\n      }\n    };\n    const startTimer = () => {\n      startTime = Date.now();\n      updateTimer();\n    };\n    const stopTimer = () => {\n      cancelAnimationFrame(animationFrameId);\n    };\n    onMounted(() => {\n      startTimer();\n    });\n    onUnmounted(() => {\n      stopTimer();\n    });\n    return {\n      secondsLeft\n    };\n  }\n};","map":{"version":3,"names":["ref","name","props","setup","secondsLeft","startSeconds","animationFrameId","updateTimer","now","Date","deltaTime","Math","max","startTime","value","floor","requestAnimationFrame","startTimer","stopTimer","cancelAnimationFrame","onMounted","onUnmounted"],"sources":["/Users/maximeconceicao/personal_repos/sweet-portfolio/src/components/SweetGame/SweetGameTimer.vue"],"sourcesContent":["<template>\n  <div class=\"game-timer\">\n    <p>{{ secondsLeft }}</p>\n  </div>\n</template>\n\n<script>\nimport { ref } from \"vue\";\n\nexport default {\n  name: \"SweetGameTimer\",\n  props: [\"startSeconds\"],\n  setup(props) {\n    const secondsLeft = ref(props.startSeconds);\n    let animationFrameId;\n\n    const updateTimer = () => {\n      const now = Date.now();\n      const deltaTime = Math.max(\n        0,\n        props.startSeconds * 1000 - (now - startTime)\n      );\n      secondsLeft.value = Math.floor(deltaTime / 1000);\n\n      if (deltaTime > 0) {\n        animationFrameId = requestAnimationFrame(updateTimer);\n      }\n    };\n\n    const startTimer = () => {\n      startTime = Date.now();\n      updateTimer();\n    };\n\n    const stopTimer = () => {\n      cancelAnimationFrame(animationFrameId);\n    };\n\n    onMounted(() => {\n      startTimer();\n    });\n\n    onUnmounted(() => {\n      stopTimer();\n    });\n\n    return { secondsLeft };\n  },\n};\n</script>\n"],"mappings":"AAOA,SAASA,GAAE,QAAS,KAAK;AAEzB,eAAe;EACbC,IAAI,EAAE,gBAAgB;EACtBC,KAAK,EAAE,CAAC,cAAc,CAAC;EACvBC,KAAKA,CAACD,KAAK,EAAE;IACX,MAAME,WAAU,GAAIJ,GAAG,CAACE,KAAK,CAACG,YAAY,CAAC;IAC3C,IAAIC,gBAAgB;IAEpB,MAAMC,WAAU,GAAIA,CAAA,KAAM;MACxB,MAAMC,GAAE,GAAIC,IAAI,CAACD,GAAG,CAAC,CAAC;MACtB,MAAME,SAAQ,GAAIC,IAAI,CAACC,GAAG,CACxB,CAAC,EACDV,KAAK,CAACG,YAAW,GAAI,IAAG,IAAKG,GAAE,GAAIK,SAAS,CAC9C,CAAC;MACDT,WAAW,CAACU,KAAI,GAAIH,IAAI,CAACI,KAAK,CAACL,SAAQ,GAAI,IAAI,CAAC;MAEhD,IAAIA,SAAQ,GAAI,CAAC,EAAE;QACjBJ,gBAAe,GAAIU,qBAAqB,CAACT,WAAW,CAAC;MACvD;IACF,CAAC;IAED,MAAMU,UAAS,GAAIA,CAAA,KAAM;MACvBJ,SAAQ,GAAIJ,IAAI,CAACD,GAAG,CAAC,CAAC;MACtBD,WAAW,CAAC,CAAC;IACf,CAAC;IAED,MAAMW,SAAQ,GAAIA,CAAA,KAAM;MACtBC,oBAAoB,CAACb,gBAAgB,CAAC;IACxC,CAAC;IAEDc,SAAS,CAAC,MAAM;MACdH,UAAU,CAAC,CAAC;IACd,CAAC,CAAC;IAEFI,WAAW,CAAC,MAAM;MAChBH,SAAS,CAAC,CAAC;IACb,CAAC,CAAC;IAEF,OAAO;MAAEd;IAAY,CAAC;EACxB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}