{"ast":null,"code":"import FlapText from \"../helpers/FlapText\";\nexport default {\n  name: \"FlapText\",\n\n  mounted() {\n    // const characters =\n    //   \"\\\"'“”‘’¹²³!#$&%()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~½¼¡«»×▓▒░│┤▀└┴┬├─┼┐┌└┘\".split(\n    //     \"\"\n    //   );\n    (function () {\n      const flapTextElements = [];\n      let textIndex = 0;\n      document.querySelectorAll(\".flap\").forEach(flapElement => {\n        const lines = flapElement.innerText.trimEnd().split(\"\\n\").map(line => line.trimEnd().replaceAll(\"\\t\", \"\"));\n        console.log(\"LINEs\", lines);\n        flapElement.innerHTML = \"\";\n\n        if (flapElement.getAttribute(\"data-offset\") === \"0\") {\n          textIndex = 0;\n        }\n\n        lines.forEach(line => {\n          const span = document.createElement(\"span\");\n          span.dataset.paused = \"true\";\n          span.dataset.originalText = line; // Stockez le texte original dans un attribut personnalisé\n\n          flapElement.appendChild(span);\n          new IntersectionObserver(entries => {\n            if (entries[0].isIntersecting === true) {\n              span.dataset.paused = \"false\";\n            }\n          }, {\n            threshold: [0]\n          }).observe(span);\n          const flapText = new FlapText(span, characters);\n          flapText.setInitialPositions(line);\n          flapText.shufflePositions();\n          flapText.render();\n          span.addEventListener(\"mouseenter\", () => {\n            flapText.shufflePositions();\n          });\n          flapTextElements.push(flapText);\n        });\n      });\n      let frameCount = 0;\n      requestAnimationFrame(function animate() {\n        requestAnimationFrame(animate);\n\n        if (frameCount++ % 2 === 0) {\n          for (const flapText of flapTextElements) {\n            flapText.flap();\n            flapText.render();\n          }\n        }\n      }); //   document.querySelectorAll(\".flap\").forEach((flapElement) => {\n      //     flapElement.classList.remove(\"hidden\");\n      //   });\n    })();\n  }\n\n};","map":{"version":3,"mappings":"AASA,OAAOA,QAAP,MAAqB,qBAArB;AAEA,eAAe;AACbC,MAAI,EAAE,UADO;;AAEbC,SAAO,GAAG;AACR;AACA;AACA;AACA;AAEA,KAAC,YAAY;AACX,YAAMC,gBAAe,GAAI,EAAzB;AACA,UAAIC,SAAQ,GAAI,CAAhB;AAEAC,cAAQ,CAACC,gBAAT,CAA0B,OAA1B,EAAmCC,OAAnC,CAA4CC,WAAD,IAAiB;AAC1D,cAAMC,KAAI,GAAID,WAAW,CAACE,SAAZ,CACXC,OADW,GAEXC,KAFW,CAEL,IAFK,EAGXC,GAHW,CAGNC,IAAD,IAAUA,IAAI,CAACH,OAAL,GAAeI,UAAf,CAA0B,IAA1B,EAAgC,EAAhC,CAHH,CAAd;AAIAC,eAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBR,KAArB;AACAD,mBAAW,CAACU,SAAZ,GAAwB,EAAxB;;AACA,YAAIV,WAAW,CAACW,YAAZ,CAAyB,aAAzB,MAA4C,GAAhD,EAAqD;AACnDf,mBAAQ,GAAI,CAAZ;AACF;;AACAK,aAAK,CAACF,OAAN,CAAeO,IAAD,IAAU;AACtB,gBAAMM,IAAG,GAAIf,QAAQ,CAACgB,aAAT,CAAuB,MAAvB,CAAb;AACAD,cAAI,CAACE,OAAL,CAAaC,MAAb,GAAsB,MAAtB;AACAH,cAAI,CAACE,OAAL,CAAaE,YAAb,GAA4BV,IAA5B,CAHsB,CAGY;;AAClCN,qBAAW,CAACiB,WAAZ,CAAwBL,IAAxB;AAEA,cAAIM,oBAAJ,CACGC,OAAD,IAAa;AACX,gBAAIA,OAAO,CAAC,CAAD,CAAP,CAAWC,cAAX,KAA8B,IAAlC,EAAwC;AACtCR,kBAAI,CAACE,OAAL,CAAaC,MAAb,GAAsB,OAAtB;AACF;AACD,WALH,EAME;AAAEM,qBAAS,EAAE,CAAC,CAAD;AAAb,WANF,EAOEC,OAPF,CAOUV,IAPV;AASA,gBAAMW,QAAO,GAAI,IAAI/B,QAAJ,CAAaoB,IAAb,EAAmBY,UAAnB,CAAjB;AACAD,kBAAQ,CAACE,mBAAT,CAA6BnB,IAA7B;AACAiB,kBAAQ,CAACG,gBAAT;AAEAH,kBAAQ,CAACI,MAAT;AAEAf,cAAI,CAACgB,gBAAL,CAAsB,YAAtB,EAAoC,MAAM;AACxCL,oBAAQ,CAACG,gBAAT;AACD,WAFD;AAIA/B,0BAAgB,CAACkC,IAAjB,CAAsBN,QAAtB;AACD,SA1BD;AA2BD,OArCD;AAuCA,UAAIO,UAAS,GAAI,CAAjB;AACAC,2BAAqB,CAAC,SAASC,OAAT,GAAmB;AACvCD,6BAAqB,CAACC,OAAD,CAArB;;AACA,YAAIF,UAAU,KAAK,CAAf,KAAqB,CAAzB,EAA4B;AAC1B,eAAK,MAAMP,QAAX,IAAuB5B,gBAAvB,EAAyC;AACvC4B,oBAAQ,CAACU,IAAT;AACAV,oBAAQ,CAACI,MAAT;AACF;AACF;AACD,OARoB,CAArB,CA5CW,CAsDX;AACA;AACA;AACD,KAzDD;AA0DD;;AAlEY,CAAf","names":["FlapText","name","mounted","flapTextElements","textIndex","document","querySelectorAll","forEach","flapElement","lines","innerText","trimEnd","split","map","line","replaceAll","console","log","innerHTML","getAttribute","span","createElement","dataset","paused","originalText","appendChild","IntersectionObserver","entries","isIntersecting","threshold","observe","flapText","characters","setInitialPositions","shufflePositions","render","addEventListener","push","frameCount","requestAnimationFrame","animate","flap"],"sourceRoot":"","sources":["/Users/maximeconceicao/personal_repos/sweet-portfolio/src/components/FlapText.vue"],"sourcesContent":["<template>\n  <!-- Vous pouvez ajouter le HTML associé ici si nécessaire -->\n  <div class=\"flap\">\n    <!-- Contenu de votre composant FlapText -->\n    Phrase test pour flap text\n  </div>\n</template>\n\n<script>\nimport FlapText from \"../helpers/FlapText\";\n\nexport default {\n  name: \"FlapText\",\n  mounted() {\n    // const characters =\n    //   \"\\\"'“”‘’¹²³!#$&%()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~½¼¡«»×▓▒░│┤▀└┴┬├─┼┐┌└┘\".split(\n    //     \"\"\n    //   );\n\n    (function () {\n      const flapTextElements = [];\n      let textIndex = 0;\n\n      document.querySelectorAll(\".flap\").forEach((flapElement) => {\n        const lines = flapElement.innerText\n          .trimEnd()\n          .split(\"\\n\")\n          .map((line) => line.trimEnd().replaceAll(\"\\t\", \"\"));\n        console.log(\"LINEs\", lines);\n        flapElement.innerHTML = \"\";\n        if (flapElement.getAttribute(\"data-offset\") === \"0\") {\n          textIndex = 0;\n        }\n        lines.forEach((line) => {\n          const span = document.createElement(\"span\");\n          span.dataset.paused = \"true\";\n          span.dataset.originalText = line; // Stockez le texte original dans un attribut personnalisé\n          flapElement.appendChild(span);\n\n          new IntersectionObserver(\n            (entries) => {\n              if (entries[0].isIntersecting === true) {\n                span.dataset.paused = \"false\";\n              }\n            },\n            { threshold: [0] }\n          ).observe(span);\n\n          const flapText = new FlapText(span, characters);\n          flapText.setInitialPositions(line);\n          flapText.shufflePositions();\n\n          flapText.render();\n\n          span.addEventListener(\"mouseenter\", () => {\n            flapText.shufflePositions();\n          });\n\n          flapTextElements.push(flapText);\n        });\n      });\n\n      let frameCount = 0;\n      requestAnimationFrame(function animate() {\n        requestAnimationFrame(animate);\n        if (frameCount++ % 2 === 0) {\n          for (const flapText of flapTextElements) {\n            flapText.flap();\n            flapText.render();\n          }\n        }\n      });\n\n      //   document.querySelectorAll(\".flap\").forEach((flapElement) => {\n      //     flapElement.classList.remove(\"hidden\");\n      //   });\n    })();\n  },\n};\n</script>\n\n<style scoped>\n/* Styles spécifiques au composant ici, ou utilisez des classes externes */\n</style>\n"]},"metadata":{},"sourceType":"module"}